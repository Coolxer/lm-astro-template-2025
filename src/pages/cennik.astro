---
import { getEntry } from "astro:content";
import { Icon } from "astro-icon/components";

import { type Meta } from "@components/core/MySEO.astro";

import PageLayout from "@layouts/PageLayout.astro";

import Section from "@components/layout/Section.astro";

const pageTitle = "Cennik";

const meta: Meta = {
  title: "Cennik",
  description: "",
};

const pricingData = await getEntry("pricing", "pricing_items");
const pricing = pricingData?.data; // To jest tablica obiekt√≥w
---

<PageLayout pageTitle={pageTitle} meta={meta}>
  <Section>
    <div class="overflow-x-auto">
      <table class="table table-zebra">
        <thead>
          <tr>
            <th></th>
            <th>Nazwa</th>
            <th>Opis</th>
            <th>Cena</th>
            <th>Jednostka</th>
            <th>Popularne?</th>
          </tr>
        </thead>
        <tbody>
          {
            pricing.map((item, index) => (
              <tr>
                <th>{index + 1}</th>
                <td>{item.title}</td>
                <td>{item.description}</td>
                <td>{item.price}</td>
                <td>{item.unit}</td>
                <td>{item.isPopular ? "tak" : "nie"}</td>
              </tr>
            ))
          }
        </tbody>
      </table>
    </div>
  </Section>
</PageLayout>
